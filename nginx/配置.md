# 配置

## proxy
```ini
location / {
    proxy_pass http://localhost:8080;
    proxy_set_header X-Real-IP $remote_addr;
}
```

## php
```ini
location ~ \.php$ {
    root           html;
    fastcgi_pass   127.0.0.1:9000;
    fastcgi_index  index.php;
    fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
    include        fastcgi_params;
}
```

## ssl
需要在`conf`目录下创建`cert`文件夹，并把证书放入。
```ini
server {
    listen       443 ssl;
    server_name  404z.cn;
    ssl_certificate      cert/404z.cn.pem;
    ssl_certificate_key  cert/404z.cn.key;
    ssl_session_cache    shared:SSL:1m;
    ssl_session_timeout  5m;
    ssl_ciphers  HIGH:!aNULL:!MD5;
    ssl_prefer_server_ciphers  on;
    location / {
        root   html;
        index  index.html index.htm;
    }
}
```
80端口跳转到443端口：
```ini
server {
    listen 80;
    server_name 404z.cn;
    rewrite ^(.*)$ https://$host$1 permanent;
}
```
